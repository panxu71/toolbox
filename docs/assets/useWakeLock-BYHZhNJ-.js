import{r as e}from"./main-DsoSj-vY.js";function o(){const o=e(!1);let a=null;const c=async e=>{try{"wakeLock"in navigator&&!a?(a=await navigator.wakeLock.request("screen"),o.value=!0,console.log("防息屏已启用"),e?.("已启用防息屏功能","success"),a.addEventListener("release",()=>{console.log("防息屏已自动释放"),o.value=!1,a=null})):"wakeLock"in navigator||(console.log("浏览器不支持 Wake Lock API"),e?.("浏览器不支持防息屏功能","error"))}catch(c){console.error("防息屏启用失败:",c),e?.("防息屏功能启用失败","error"),o.value=!1,a=null}},r=e=>{a&&(a.release(),a=null,o.value=!1,console.log("防息屏已释放"),e?.("已关闭防息屏功能","success"))};return{isWakeLockActive:o,requestWakeLock:c,releaseWakeLock:r,toggleWakeLock:async e=>{o.value?r(e):await c(e)},isWakeLockSupported:()=>"wakeLock"in navigator}}export{o as u};
