import{d as e,r as t,a,o as l,b as s,e as o,f as i,w as n,v as c,t as r,i as u,j as v,n as d,_ as h}from"./main-BuE8beIh.js";const p={class:"base64-converter"},f={class:"converter-header"},w={class:"converter-content"},g={class:"converter-section"},k={class:"text-converter-container"},x={class:"input-output-grid"},b={class:"input-section"},y={class:"input-info"},C={class:"char-count"},m={class:"byte-count"},B={class:"output-section"},M={class:"output-info"},U={class:"char-count"},L={key:0,class:"compression-ratio"},R={class:"converter-section"},V={class:"file-converter-container"},I={key:0,class:"file-info"},_={class:"file-details"},z={class:"file-meta"},H={class:"file-name"},j={class:"file-size"},T={class:"file-type"},D={class:"file-actions"},F=["disabled"],O={key:1,class:"file-result"},E={class:"result-info"},$={class:"converter-section"},A={class:"url-safe-container"},G={class:"url-safe-grid"},K={class:"input-group"},q={class:"output-group"},J=h(e({__name:"Base64Converter",emits:["back"],setup(e){const h=t(""),J=t(""),N=t(null),P=t(""),Q=t(!1),S=t(),W=t(""),X=t(""),Y=t(""),Z=t("success"),ee=e=>new Blob([e]).size,te=()=>{if(!h.value||!J.value)return"0";const e=ee(h.value);return((ee(J.value)-e)/e*100).toFixed(1)},ae=()=>{if(h.value.trim())try{J.value=btoa(unescape(encodeURIComponent(h.value))),be("编码成功","success")}catch(e){be("编码失败，请检查输入内容","error")}else J.value=""},le=()=>{if(h.value.trim())try{J.value=decodeURIComponent(escape(atob(h.value))),be("解码成功","success")}catch(e){be("解码失败，请检查Base64格式","error")}else J.value=""},se=()=>{const e=h.value;h.value=J.value,J.value=e,be("内容已交换","success")},oe=async()=>{try{const e=await navigator.clipboard.readText();h.value=e,ae(),be("已粘贴文本","success")}catch(e){be("粘贴失败","error")}},ie=()=>{h.value="",J.value="",be("已清空输入","success")},ne=async()=>{if(J.value)try{await navigator.clipboard.writeText(J.value),be("编码结果已复制到剪贴板","success")}catch(e){be("复制失败","error")}else be("没有可复制的内容","error")},ce=()=>{if(!J.value)return void be("没有可下载的内容","error");const e=new Blob([J.value],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="base64-encoded.txt",a.click(),URL.revokeObjectURL(t),be("编码结果已下载","success")},re=e=>{const t=e.target,a=t.files?.[0];if(a){if(a.size>10485760)return void be("文件大小不能超过10MB","error");N.value=a,P.value="",be("文件已选择","success")}},ue=e=>{e.preventDefault();const t=e.dataTransfer?.files[0];if(t){if(t.size>10485760)return void be("文件大小不能超过10MB","error");N.value=t,P.value="",be("文件已选择","success")}},ve=()=>{N.value=null,P.value="",S.value&&(S.value.value=""),be("文件已移除","success")},de=()=>{if(!N.value)return;Q.value=!0;const e=new FileReader;e.onload=e=>{try{const t=e.target?.result,a=t.split(",")[1];P.value=a||"",be("文件编码完成","success")}catch(t){be("文件编码失败","error")}finally{Q.value=!1}},e.onerror=()=>{be("文件读取失败","error"),Q.value=!1},e.readAsDataURL(N.value)},he=async()=>{if(P.value)try{await navigator.clipboard.writeText(P.value),be("文件编码结果已复制","success")}catch(e){be("复制失败","error")}},pe=()=>{if(!P.value)return;const e=new Blob([P.value],{type:"text/plain"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`${N.value?.name||"file"}-base64.txt`,a.click(),URL.revokeObjectURL(t),be("文件编码结果已下载","success")},fe=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB"][t]},we=()=>{if(W.value.trim())try{const e=btoa(unescape(encodeURIComponent(W.value)));X.value=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),be("URL安全编码成功","success")}catch(e){be("URL安全编码失败","error")}else X.value=""},ge=()=>{if(W.value.trim())try{let e=W.value.replace(/-/g,"+").replace(/_/g,"/");for(;e.length%4;)e+="=";X.value=decodeURIComponent(escape(atob(e))),be("URL安全解码成功","success")}catch(e){be("URL安全解码失败","error")}else X.value=""},ke=async()=>{if(X.value)try{await navigator.clipboard.writeText(X.value),be("URL安全编码结果已复制","success")}catch(e){be("复制失败","error")}},xe=()=>{h.value="",J.value="",N.value=null,P.value="",W.value="",X.value="",S.value&&(S.value.value=""),be("已清空所有内容","success")},be=(e,t)=>{Y.value=e,Z.value=t,setTimeout(()=>{Y.value=""},3e3)};return(e,t)=>(l(),a("div",p,[s("div",f,[s("button",{class:"back-btn",onClick:t[0]||(t[0]=t=>e.$emit("back"))},[...t[9]||(t[9]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"m15 18-6-6 6-6"})],-1),i(" 返回 ",-1)])]),t[11]||(t[11]=s("h2",{class:"converter-title"},"Base64编码解码",-1)),s("div",{class:"converter-actions"},[s("button",{class:"action-btn",onClick:xe,title:"清空所有"},[...t[10]||(t[10]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M3 6h18"}),s("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),s("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)])])])]),s("div",w,[s("div",g,[t[21]||(t[21]=s("div",{class:"section-header"},[s("h3",null,"文本编码解码"),s("div",{class:"section-info"},[s("span",{class:"info-text"},"对文本进行Base64编码和解码")])],-1)),s("div",k,[s("div",x,[s("div",b,[s("div",{class:"section-title"},[t[14]||(t[14]=s("span",null,"原始文本",-1)),s("div",{class:"section-actions"},[s("button",{class:"action-btn-small",onClick:oe,title:"粘贴"},[...t[12]||(t[12]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),s("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})],-1)])]),s("button",{class:"action-btn-small",onClick:ie,title:"清空"},[...t[13]||(t[13]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])])]),n(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),placeholder:"请输入要编码的文本...",class:"text-input",onInput:ae},null,544),[[c,h.value]]),s("div",y,[s("span",C,"字符数: "+r(h.value.length),1),s("span",m,"字节数: "+r(ee(h.value)),1)])]),s("div",B,[s("div",{class:"section-title"},[t[17]||(t[17]=s("span",null,"Base64编码结果",-1)),s("div",{class:"section-actions"},[s("button",{class:"action-btn-small",onClick:ne,title:"复制"},[...t[15]||(t[15]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),s("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])]),s("button",{class:"action-btn-small",onClick:ce,title:"下载"},[...t[16]||(t[16]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s("polyline",{points:"7,10 12,15 17,10"}),s("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])])])]),n(s("textarea",{"onUpdate:modelValue":t[2]||(t[2]=e=>J.value=e),placeholder:"编码结果将显示在这里...",class:"text-output",readonly:""},null,512),[[c,J.value]]),s("div",M,[s("span",U,"字符数: "+r(J.value.length),1),h.value&&J.value?(l(),a("span",L," 压缩比: "+r(te())+"% ",1)):o("",!0)])])]),s("div",{class:"converter-actions"},[s("button",{class:"convert-btn encode",onClick:ae},[...t[18]||(t[18]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M7 16.5L12 12l5 4.5"}),s("path",{d:"M7 7.5L12 12l5-4.5"})],-1),i(" 编码 ",-1)])]),s("button",{class:"convert-btn decode",onClick:le},[...t[19]||(t[19]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M17 7.5L12 12l-5-4.5"}),s("path",{d:"M17 16.5L12 12l-5 4.5"})],-1),i(" 解码 ",-1)])]),s("button",{class:"swap-btn",onClick:se},[...t[20]||(t[20]=[u('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-360a4d83><path d="M8 3L4 7l4 4" data-v-360a4d83></path><path d="M4 7h16" data-v-360a4d83></path><path d="M16 21l4-4-4-4" data-v-360a4d83></path><path d="M20 17H4" data-v-360a4d83></path></svg> 交换 ',2)])])])])]),s("div",R,[t[29]||(t[29]=s("div",{class:"section-header"},[s("h3",null,"文件编码解码"),s("div",{class:"section-info"},[s("span",{class:"info-text"},"对文件进行Base64编码，支持图片、文档等")])],-1)),s("div",V,[s("div",{class:"file-upload-area",onDrop:ue,onDragover:t[4]||(t[4]=v(()=>{},["prevent"])),onDragenter:t[5]||(t[5]=v(()=>{},["prevent"]))},[s("input",{ref_key:"fileInput",ref:S,type:"file",onChange:re,class:"file-input",accept:"*/*"},null,544),s("div",{class:"upload-content",onClick:t[3]||(t[3]=e=>S.value?.click())},[...t[22]||(t[22]=[u('<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-360a4d83><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-v-360a4d83></path><polyline points="17,8 12,3 7,8" data-v-360a4d83></polyline><line x1="12" y1="3" x2="12" y2="15" data-v-360a4d83></line></svg><p class="upload-text" data-v-360a4d83>点击选择文件或拖拽文件到此处</p><p class="upload-hint" data-v-360a4d83>支持所有文件类型，最大10MB</p>',3)])])],32),N.value?(l(),a("div",I,[s("div",_,[t[24]||(t[24]=s("div",{class:"file-icon"},[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),s("polyline",{points:"14,2 14,8 20,8"})])],-1)),s("div",z,[s("div",H,r(N.value.name),1),s("div",j,r(fe(N.value.size)),1),s("div",T,r(N.value.type||"未知类型"),1)]),s("button",{class:"remove-file-btn",onClick:ve},[...t[23]||(t[23]=[s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),s("div",D,[s("button",{class:"file-action-btn",onClick:de,disabled:Q.value},[t[25]||(t[25]=s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M7 16.5L12 12l5 4.5"}),s("path",{d:"M7 7.5L12 12l5-4.5"})],-1)),i(" "+r(Q.value?"编码中...":"编码文件"),1)],8,F)])])):o("",!0),P.value?(l(),a("div",O,[s("div",{class:"result-header"},[t[28]||(t[28]=s("h4",null,"编码结果",-1)),s("div",{class:"result-actions"},[s("button",{class:"action-btn-small",onClick:he,title:"复制"},[...t[26]||(t[26]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),s("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])]),s("button",{class:"action-btn-small",onClick:pe,title:"下载"},[...t[27]||(t[27]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),s("polyline",{points:"7,10 12,15 17,10"}),s("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1)])])])]),n(s("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>P.value=e),class:"file-result-text",readonly:""},null,512),[[c,P.value]]),s("div",E,[s("span",null,"原始大小: "+r(fe(N.value?.size||0)),1),s("span",null,"编码后大小: "+r(fe(ee(P.value))),1)])])):o("",!0)])]),s("div",$,[t[33]||(t[33]=s("div",{class:"section-header"},[s("h3",null,"URL安全Base64"),s("div",{class:"section-info"},[s("span",{class:"info-text"},"URL安全的Base64编码，替换+/字符")])],-1)),s("div",A,[s("div",G,[s("div",K,[t[30]||(t[30]=s("label",null,"输入文本",-1)),n(s("textarea",{"onUpdate:modelValue":t[7]||(t[7]=e=>W.value=e),placeholder:"请输入要进行URL安全编码的文本...",class:"url-safe-input",onInput:we},null,544),[[c,W.value]])]),s("div",q,[t[32]||(t[32]=s("label",null,"URL安全Base64结果",-1)),n(s("textarea",{"onUpdate:modelValue":t[8]||(t[8]=e=>X.value=e),placeholder:"URL安全编码结果...",class:"url-safe-output",readonly:""},null,512),[[c,X.value]]),s("button",{class:"copy-url-safe-btn",onClick:ke,title:"复制结果"},[...t[31]||(t[31]=[s("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),s("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])])])]),s("div",{class:"url-safe-actions"},[s("button",{class:"url-safe-btn encode",onClick:we},"编码"),s("button",{class:"url-safe-btn decode",onClick:ge},"解码")])])])]),Y.value?(l(),a("div",{key:0,class:d(["message-toast",Z.value])},r(Y.value),3)):o("",!0)]))}}),[["__scopeId","data-v-360a4d83"]]);export{J as default};
