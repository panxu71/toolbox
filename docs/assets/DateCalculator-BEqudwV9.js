import{d as e,r as a,k as t,a as l,o as s,b as u,e as n,f as i,w as o,v as c,t as r,g as v,i as d,n as p,_ as h}from"./main-BuE8beIh.js";const m={class:"date-calculator"},g={class:"calculator-header"},b={class:"calculator-content"},k={class:"calculation-section"},y={class:"date-interval-container"},w={class:"date-input-group"},f={class:"date-input-wrapper"},M={class:"date-input-group"},C={class:"date-input-wrapper"},$={class:"quick-date-buttons"},D={key:0,class:"interval-result"},T={class:"result-grid"},x={class:"result-item"},S={class:"result-value"},q={class:"result-item"},V={class:"result-value"},U={class:"result-item"},N={class:"result-value"},H={class:"result-item"},I={class:"result-value"},_={class:"detailed-result"},B={class:"result-item large"},F={class:"result-value"},P={class:"calculation-section"},Y={class:"date-arithmetic-container"},E={class:"base-date-group"},j={class:"date-input-wrapper"},O={class:"arithmetic-controls"},z={class:"operation-group"},A={class:"amount-group"},G={class:"unit-group"},J={class:"quick-arithmetic-buttons"},K={key:0,class:"arithmetic-result"},L={class:"result-item large"},Q={class:"result-value"},R={class:"result-details"},W={class:"detail-item"},X={class:"detail-item"},Z={class:"calculation-section"},ee={class:"special-dates-container"},ae={class:"special-date-group"},te={class:"date-input-wrapper"},le={key:0,class:"special-result"},se={class:"result-grid"},ue={class:"result-item"},ne={class:"result-value"},ie={class:"result-item"},oe={class:"result-value"},ce={class:"result-item"},re={class:"result-value"},ve={class:"result-item"},de={class:"result-value"},pe={key:0,class:"birthday-info"},he={class:"result-item large"},me={class:"result-value"},ge=h(e({__name:"DateCalculator",emits:["back"],setup(e){const h=a(""),ge=a("00:00:00"),be=a(""),ke=a("00:00:00"),ye=a(null),we=a(""),fe=a("00:00:00"),Me=a("add"),Ce=a(0),$e=a("days"),De=a(null),Te=a(""),xe=a("birthday"),Se=a(null),qe=a(""),Ve=a("success");t(()=>{const e=new Date,a=Ue(e),t=Ne(e);h.value=a,be.value=a,we.value=a,ge.value=t,ke.value=t,fe.value=t});const Ue=e=>e.toISOString().split("T")[0]||"",Ne=e=>e.toTimeString().split(" ")[0]||"00:00:00",He=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`,Ie=e=>{const a=Ue(new Date);"start"===e?(h.value=a,ge.value="00:00:00"):(be.value=a,ke.value="23:59:59"),Fe()},_e=e=>{const a=new Date,t=Ue(a),l=Ne(a);"start"===e?(h.value=t,ge.value=l):(be.value=t,ke.value=l),Fe()},Be=()=>{const e=new Date;we.value=Ue(e),fe.value=Ne(e),Pe()},Fe=()=>{if(h.value&&be.value)try{const e=new Date(`${h.value}T${ge.value}`),a=new Date(`${be.value}T${ke.value}`);if(isNaN(e.getTime())||isNaN(a.getTime()))throw new Error("无效的日期时间");const t=Math.abs(a.getTime()-e.getTime()),l=Math.floor(t/1e3),s=Math.floor(l/60),u=Math.floor(s/60),n=Math.floor(u/24),i=Math.floor(n/365),o=Math.floor(n%365/30),c=Math.floor(n%365%30),r=u%24,v=s%60,d=l%60;let p="";i>0&&(p+=`${i}年 `),o>0&&(p+=`${o}个月 `),c>0&&(p+=`${c}天 `),r>0&&(p+=`${r}小时 `),v>0&&(p+=`${v}分钟 `),d>0&&(p+=`${d}秒`),p||(p="0秒"),ye.value={totalDays:n,totalHours:u,totalMinutes:s,totalSeconds:l,detailed:p.trim()}}catch(e){ye.value=null,ze(`计算失败: ${e.message}`,"error")}else ye.value=null},Pe=()=>{var e;if(we.value&&void 0!==Ce.value)try{const a=new Date(`${we.value}T${fe.value}`);if(isNaN(a.getTime()))throw new Error("无效的基准日期时间");let t=new Date(a);const l="add"===Me.value?Ce.value:-Ce.value;switch($e.value){case"years":t.setFullYear(t.getFullYear()+l);break;case"months":t.setMonth(t.getMonth()+l);break;case"days":t.setDate(t.getDate()+l);break;case"hours":t.setHours(t.getHours()+l);break;case"minutes":t.setMinutes(t.getMinutes()+l);break;case"seconds":t.setSeconds(t.getSeconds()+l)}De.value={formatted:He(t),weekday:(e=t,["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][e.getDay()]||"星期日"),timestamp:Math.floor(t.getTime()/1e3).toString()}}catch(a){De.value=null,ze(`计算失败: ${a.message}`,"error")}else De.value=null},Ye=(e,a)=>{Ce.value=Math.abs(e),$e.value=a,Me.value=e>=0?"add":"subtract",Pe()},Ee=()=>{if(Te.value)try{const e=new Date(Te.value),a=new Date;if(isNaN(e.getTime()))throw new Error("无效的特殊日期");const t=a.getTime()-e.getTime(),l=Math.floor(t/864e5),s=Math.floor(l/365.25),u=a.getFullYear()+(e.getMonth()<a.getMonth()||e.getMonth()===a.getMonth()&&e.getDate()<=a.getDate()?1:0),n=new Date(u,e.getMonth(),e.getDate()),i=Math.ceil((n.getTime()-a.getTime())/864e5);let o="";if("birthday"===xe.value){const t=Math.floor((a.getTime()-e.getTime())/315576e5),l=Math.floor((a.getTime()-e.getTime())/864e5);o=`${t}岁 (${l}天, ${Math.floor((a.getTime()-e.getTime())/36e5)}小时)`}Se.value={daysPassed:Math.max(0,l),yearsPassed:Math.max(0,s),nextDate:He(n).split(" ")[0]||"",daysUntilNext:Math.max(0,i),ageInfo:o}}catch(e){Se.value=null,ze(`计算失败: ${e.message}`,"error")}else Se.value=null},je=async e=>{try{await navigator.clipboard.writeText(e),ze("已复制到剪贴板","success")}catch(a){ze("复制失败","error")}},Oe=()=>{const e=new Date,a=Ue(e),t=Ne(e);h.value=a,be.value=a,we.value=a,Te.value="",ge.value=t,ke.value=t,fe.value=t,Ce.value=0,ye.value=null,De.value=null,Se.value=null,ze("已清空所有内容","success")},ze=(e,a)=>{qe.value=e,Ve.value=a,setTimeout(()=>{qe.value=""},3e3)};return(e,a)=>(s(),l("div",m,[u("div",g,[u("button",{class:"back-btn",onClick:a[0]||(a[0]=a=>e.$emit("back"))},[...a[26]||(a[26]=[u("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[u("path",{d:"m15 18-6-6 6-6"})],-1),i(" 返回 ",-1)])]),a[28]||(a[28]=u("h2",{class:"calculator-title"},"日期计算器",-1)),u("div",{class:"calculator-actions"},[u("button",{class:"action-btn",onClick:Oe,title:"清空"},[...a[27]||(a[27]=[u("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[u("path",{d:"M3 6h18"}),u("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),u("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})],-1)])])])]),u("div",b,[u("div",k,[a[36]||(a[36]=u("div",{class:"section-header"},[u("h3",null,"日期间隔计算"),u("div",{class:"section-info"},[u("span",{class:"info-text"},"计算两个日期之间的时间间隔")])],-1)),u("div",y,[u("div",w,[a[29]||(a[29]=u("label",null,"开始日期",-1)),u("div",f,[o(u("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>h.value=e),type:"date",onChange:Fe,class:"date-input"},null,544),[[c,h.value]]),o(u("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>ge.value=e),type:"time",step:"1",onChange:Fe,class:"time-input"},null,544),[[c,ge.value]])])]),u("div",M,[a[30]||(a[30]=u("label",null,"结束日期",-1)),u("div",C,[o(u("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>be.value=e),type:"date",onChange:Fe,class:"date-input"},null,544),[[c,be.value]]),o(u("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>ke.value=e),type:"time",step:"1",onChange:Fe,class:"time-input"},null,544),[[c,ke.value]])])]),u("div",$,[u("button",{class:"quick-btn",onClick:a[5]||(a[5]=e=>Ie("start"))},"今天"),u("button",{class:"quick-btn",onClick:a[6]||(a[6]=e=>_e("start"))},"现在"),u("button",{class:"quick-btn",onClick:a[7]||(a[7]=e=>Ie("end"))},"今天"),u("button",{class:"quick-btn",onClick:a[8]||(a[8]=e=>_e("end"))},"现在")]),ye.value?(s(),l("div",D,[u("div",T,[u("div",x,[a[31]||(a[31]=u("span",{class:"result-label"},"总天数",-1)),u("span",S,r(ye.value.totalDays)+" 天",1)]),u("div",q,[a[32]||(a[32]=u("span",{class:"result-label"},"总小时",-1)),u("span",V,r(ye.value.totalHours)+" 小时",1)]),u("div",U,[a[33]||(a[33]=u("span",{class:"result-label"},"总分钟",-1)),u("span",N,r(ye.value.totalMinutes)+" 分钟",1)]),u("div",H,[a[34]||(a[34]=u("span",{class:"result-label"},"总秒数",-1)),u("span",I,r(ye.value.totalSeconds)+" 秒",1)])]),u("div",_,[u("div",B,[a[35]||(a[35]=u("span",{class:"result-label"},"详细间隔",-1)),u("span",F,r(ye.value.detailed),1)])])])):n("",!0)])]),u("div",P,[a[46]||(a[46]=u("div",{class:"section-header"},[u("h3",null,"日期加减计算"),u("div",{class:"section-info"},[u("span",{class:"info-text"},"在指定日期基础上增加或减少时间")])],-1)),u("div",Y,[u("div",E,[a[37]||(a[37]=u("label",null,"基准日期",-1)),u("div",j,[o(u("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>we.value=e),type:"date",onChange:Pe,class:"date-input"},null,544),[[c,we.value]]),o(u("input",{"onUpdate:modelValue":a[10]||(a[10]=e=>fe.value=e),type:"time",step:"1",onChange:Pe,class:"time-input"},null,544),[[c,fe.value]]),u("button",{class:"quick-btn",onClick:Be},"现在")])]),u("div",O,[u("div",z,[a[39]||(a[39]=u("label",null,"操作",-1)),o(u("select",{"onUpdate:modelValue":a[11]||(a[11]=e=>Me.value=e),onChange:Pe,class:"operation-select"},[...a[38]||(a[38]=[u("option",{value:"add"},"增加 (+)",-1),u("option",{value:"subtract"},"减少 (-)",-1)])],544),[[v,Me.value]])]),u("div",A,[a[40]||(a[40]=u("label",null,"数量",-1)),o(u("input",{"onUpdate:modelValue":a[12]||(a[12]=e=>Ce.value=e),type:"number",min:"0",onInput:Pe,class:"amount-input",placeholder:"0"},null,544),[[c,Ce.value,void 0,{number:!0}]])]),u("div",G,[a[42]||(a[42]=u("label",null,"单位",-1)),o(u("select",{"onUpdate:modelValue":a[13]||(a[13]=e=>$e.value=e),onChange:Pe,class:"unit-select"},[...a[41]||(a[41]=[d('<option value="years" data-v-8570b2a0>年</option><option value="months" data-v-8570b2a0>月</option><option value="days" data-v-8570b2a0>天</option><option value="hours" data-v-8570b2a0>小时</option><option value="minutes" data-v-8570b2a0>分钟</option><option value="seconds" data-v-8570b2a0>秒</option>',6)])],544),[[v,$e.value]])])]),u("div",J,[u("button",{class:"quick-btn",onClick:a[14]||(a[14]=e=>Ye(1,"days"))},"+1天"),u("button",{class:"quick-btn",onClick:a[15]||(a[15]=e=>Ye(-1,"days"))},"-1天"),u("button",{class:"quick-btn",onClick:a[16]||(a[16]=e=>Ye(7,"days"))},"+1周"),u("button",{class:"quick-btn",onClick:a[17]||(a[17]=e=>Ye(-7,"days"))},"-1周"),u("button",{class:"quick-btn",onClick:a[18]||(a[18]=e=>Ye(1,"months"))},"+1月"),u("button",{class:"quick-btn",onClick:a[19]||(a[19]=e=>Ye(-1,"months"))},"-1月"),u("button",{class:"quick-btn",onClick:a[20]||(a[20]=e=>Ye(1,"years"))},"+1年"),u("button",{class:"quick-btn",onClick:a[21]||(a[21]=e=>Ye(-1,"years"))},"-1年")]),De.value?(s(),l("div",K,[u("div",L,[a[44]||(a[44]=u("span",{class:"result-label"},"计算结果",-1)),u("span",Q,r(De.value.formatted),1),u("button",{class:"copy-btn",onClick:a[22]||(a[22]=e=>je(De.value.formatted)),title:"复制"},[...a[43]||(a[43]=[u("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[u("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),u("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])])]),u("div",R,[u("div",W,[u("span",null,"星期："+r(De.value.weekday),1)]),u("div",X,[u("span",null,"时间戳："+r(De.value.timestamp),1),u("button",{class:"copy-btn",onClick:a[23]||(a[23]=e=>je(De.value.timestamp)),title:"复制"},[...a[45]||(a[45]=[u("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[u("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),u("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})],-1)])])])])])):n("",!0)])]),u("div",Z,[a[54]||(a[54]=u("div",{class:"section-header"},[u("h3",null,"特殊日期计算"),u("div",{class:"section-info"},[u("span",{class:"info-text"},"计算生日、纪念日等特殊日期")])],-1)),u("div",ee,[u("div",ae,[a[48]||(a[48]=u("label",null,"特殊日期",-1)),u("div",te,[o(u("input",{"onUpdate:modelValue":a[24]||(a[24]=e=>Te.value=e),type:"date",onChange:Ee,class:"date-input"},null,544),[[c,Te.value]]),o(u("select",{"onUpdate:modelValue":a[25]||(a[25]=e=>xe.value=e),onChange:Ee,class:"special-type-select"},[...a[47]||(a[47]=[u("option",{value:"birthday"},"生日",-1),u("option",{value:"anniversary"},"纪念日",-1),u("option",{value:"custom"},"自定义",-1)])],544),[[v,xe.value]])])]),Se.value?(s(),l("div",le,[u("div",se,[u("div",ue,[a[49]||(a[49]=u("span",{class:"result-label"},"已过天数",-1)),u("span",ne,r(Se.value.daysPassed)+" 天",1)]),u("div",ie,[a[50]||(a[50]=u("span",{class:"result-label"},"已过年数",-1)),u("span",oe,r(Se.value.yearsPassed)+" 年",1)]),u("div",ce,[a[51]||(a[51]=u("span",{class:"result-label"},"下次日期",-1)),u("span",re,r(Se.value.nextDate),1)]),u("div",ve,[a[52]||(a[52]=u("span",{class:"result-label"},"距离天数",-1)),u("span",de,r(Se.value.daysUntilNext)+" 天",1)])]),"birthday"===xe.value?(s(),l("div",pe,[u("div",he,[a[53]||(a[53]=u("span",{class:"result-label"},"年龄信息",-1)),u("span",me,r(Se.value.ageInfo),1)])])):n("",!0)])):n("",!0)])])]),qe.value?(s(),l("div",{key:0,class:p(["message-toast",Ve.value])},r(qe.value),3)):n("",!0)]))}}),[["__scopeId","data-v-8570b2a0"]]);export{ge as default};
